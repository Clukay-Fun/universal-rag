# 开发清单

## 基础与规范
- [x] 创建数据库 `universal-rag`
- [x] 初始化三张业务表（enterprises / lawyers / performances）
- [x] 应用主键与校验约束（amount/subject_amount）
- [x] 生成初始化与迁移 SQL 文档
- [ ] 建立索引策略（查询常用字段）
- [ ] 补充环境变量清单与密钥管理规范

## 文档解析与结构化
- [ ] Word → MarkItDown 转换
- [ ] 章节层级解析与 Node 树生成
- [ ] 结构化结果入库

## 向量化与检索
- [ ] BGE-M3 向量化任务
- [ ] 向量入库与 ivfflat 索引
- [ ] pgvector 相似度检索接口

## RAG 问答
- [ ] 检索增强生成链路
- [ ] 引用格式规范输出（source_id/chunk_id/score）

## 业绩管理
- [ ] 合同信息提取提示词管理
- [ ] 合同/图片结构化提取
- [ ] 业绩入库与查询

## 智能匹配
- [ ] 招标需求解析
- [ ] 匹配排序与理由输出

## Agent Loop 与工具系统
- [ ] 状态机与最大步数控制
- [ ] 工具注册与失败处理
- [ ] 工具结果写回对话历史

## SSE 实时状态
- [ ] SSE 状态推送与终端展示

## CLI 与运维
- [x] Typer CLI 骨架
- [x] 企业插入/查询命令
- [x] 业绩插入/查询命令
- [ ] 律师插入/查询命令
- [ ] CLI 增加批量导入与导出
- [ ] 单测与示例脚本
